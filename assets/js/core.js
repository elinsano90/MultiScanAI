export function setTheme(){const html=document.documentElement;html.setAttribute('data-theme', html.getAttribute('data-theme')==='dark'?'light':'dark');}
export function setupTabs(){const t=document.querySelectorAll('.tab');const p=document.querySelectorAll('.panel');t.forEach(b=>b.addEventListener('click',()=>{t.forEach(x=>x.classList.remove('active'));p.forEach(y=>y.hidden=true);b.classList.add('active');document.getElementById(b.dataset.target).hidden=false;}));}
export function classColor(l){const m={'libro':'#06b6d4','laptop':'#8b5cf6','esfero':'#84cc16','maleta':'#f97316','regla':'#22c55e','borrador':'#ef4444','carro':'#22c55e','tren':'#06b6d4','avión':'#8b5cf6','claxon':'#f59e0b','caminando':'#06b6d4','escribiendo':'#84cc16','comiendo':'#f97316','usando el celular':'#8b5cf6','saludando':'#ef4444'};return m[l]||'var(--accent)';}
export function renderBars(c,items){c.innerHTML='';items.forEach(({label,prob})=>{const b=document.createElement('div');b.className='bar';const f=document.createElement('div');f.className='fill';f.style.background=classColor(label);f.style.width=`${Math.round(prob*100)}%`;const lab=document.createElement('div');lab.className='label';lab.textContent=`${label} — ${(prob*100).toFixed(1)}%`;b.appendChild(f);b.appendChild(lab);c.appendChild(b);});}
export function now(){return performance.now();}
export function wait(ms){return new Promise(r=>setTimeout(r,ms));}
